# 1. 可视化IVR编辑器使用说明

效果预览图

![](http://p3alsaatj.bkt.clouddn.com/20180702151135_VYdh8I_Jietu20180702-151118.jpeg)

# 2. 登录页面

打开IVR可视化编辑器首页，会自动弹出登录模态框，输入邮箱和密码后，点击登录。

![](http://p3alsaatj.bkt.clouddn.com/20180702093358_fAUEFi_Jietu20180702-093315.jpeg)

# 3. IVR流程管理页面

箭头位置 | 功能 | 备注
--- | --- | ---
1 | 编辑IVR流程 | 
2 | 删除IVR流程 | 
3 | 创建新的IVR流程 | 
4 | 导入新的IVR流程 | 仅仅支持JSON格式，字符串必须以"{"开头，以结尾"}"

![](http://p3alsaatj.bkt.clouddn.com/20180702094147_VH43IL_Jietu20180702-094130.jpeg)

# 4. 导入JSON格式IVR流程页面

在文本框中粘贴json格式的ivr流程，点击导入json后，可以生成ivr流程。

请注意粘贴的字符串必须是格式正确的json, 否则会解析失败，无法导入。

对于该字符串有以下验证规则：

- 必须是"{"开头， "}"结尾
- 必须含有varList属性
- 必须含有nodeList属性

![](http://p3alsaatj.bkt.clouddn.com/20180702095310_EaxjpA_Jietu20180702-095300.jpeg)

# 5. 浮动按钮说明

页面的右下角有四个浮动按钮，分别有不同的功能。

箭头位置 | 功能 | 备注
--- | --- | ---
1 | 菜单按钮 | 该按钮默认是显示状态，点击之后，其上的三个隐藏的按钮会出现
2 | 查看JSON格式IVR流程 | 具体功能在下面章节介绍。(该按钮默认处于隐藏状态，点击菜单按钮后才会出现)
3 | 查看IVR流程列表 | 点击该功能后，出现IVR流程管理页面。(该按钮默认处于隐藏状态，点击菜单按钮后才会出现)
4 | 保存IVR流程 | 保存IVR流程。（该按钮默认处于隐藏状态，点击菜单按钮后才会出现）

![](http://p3alsaatj.bkt.clouddn.com/20180702100034_PAMB3m_Jietu20180702-095651.jpeg)

# 6. 查看JSON格式IVR流程页面

在该页面可以用json格式查看IVR数据信息，并点击按钮，导出JSON格式的IVR流程。

![](http://p3alsaatj.bkt.clouddn.com/20180702100734_prgJOp_Jietu20180702-100717.jpeg)

# 7. IVR背景画布页面

创建，编辑和导入IVR流程后，都会进入IVR背景画布页面。

- IVR编辑器在保存时，会保存节点在画布上的位置信息，所以在下一次编辑节点时，节点的位置和你之前摆放的位置是不会改变的。
- 之前在租户控制台中编辑的IVR流程，在第一次在IVR编辑器中编辑时，由于节点没有位置信息，所以可能节点布局会有点乱，这个需要手动整理一下位置信息。在下次编辑时，位置就不会混乱了。

## 7.1. 添加节点

在背景画布页面任意位置`单击鼠标右键`，会出现添加节点模态框。请注意，鼠标右键的位置决定添加节点的位置。

输入节点id, 并选择节点类型后，点击保存按钮。

![](http://p3alsaatj.bkt.clouddn.com/20180702102123_8HuYdD_Jietu20180702-102033.jpeg)

## 7.2. 节点操作说明

箭头位置 | 功能 | 备注
--- | --- | ---
1 | 删除节点 | 删除该节点
2 | 给节点创建快捷方式 | 为了避免节点之间连线交叉过多，你可以通过创建快捷方式让节点之间的逻辑更加清晰
3 | 复制节点 | 复制同样的节点，注意该操作只复制节点信息，不复制节点连线信息，节点id信息会自动生成
4 | 编辑节点 | 编辑节点相关信息
5 | 入口连线端点 | 该端点一般位于节点的上边，只能作为连线的终点端点
6 | 出口连线端点 | 该端点一般位于节点的右边，只能作为连线的始发端点

![](http://p3alsaatj.bkt.clouddn.com/20180702103517_RsfORM_Jietu20180702-103432.jpeg)

## 7.3. 节点连线的创建与删除

箭头位置 | 功能 | 备注
--- | --- | ---
1 | 起点 | 从起点拖动连线到终点可以创建连线
2 | 连线 | 双击连线可以弹出删除连线确认框，确认后可以用来删除连线
3 | 终点 | 从起点拖动连线到终点可以创建连线


![](http://p3alsaatj.bkt.clouddn.com/20180702110921_9gtb7X_Jietu20180702-110905.jpeg)


## 7.4. 快捷节点说明

点击节点下面的创建快捷方式图标，可以给节点创建快捷方式。

![](http://p3alsaatj.bkt.clouddn.com/20180702140859_qeAKPX_Jietu20180702-111703.jpeg)

移动快捷方式节点，从d节点拉取连线到快捷方式节点上，实际上d节点的的下一个节点已经指向了ActionMenu节点，但是连线不是链接的ActionMenu，而是链接到ActionMenu的快捷方式上。

![](http://p3alsaatj.bkt.clouddn.com/20180702141029_Jc8ZRL_Jietu20180702-141017.jpeg)

# 8. 节点编辑
## 8.1. 开始节点: Start

**主要功能**

- 设置IVR流程编号
- 设置IVR流程描述
- 创建自定义变量

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702144954_7bYEVR_Jietu20180702-144944.jpeg)


## 8.2. 结束节点: Exit

每个IVR流程只能有一个结束节点，结束节点不能编辑。

## 8.3. 放音类型节点

**主要功能**

- 从语音文件中播放音乐(VOX)
- 输入文字转音乐(TTS)

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702144909_fFVoOh_Jietu20180702-144835.jpeg)


## 8.4. 菜单类型节点

**主要功能**

- 播放音乐
- 收录按键

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702145335_swPnrk_Jietu20180702-145325.jpeg)

## 8.5. 转接类型节点

**主要功能**

- 将通话转接到其他设备
- 节点复制
- 设置UUI

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702145449_3ApoRT_Jietu20180702-145440.jpeg)

## 8.6. 表单类型节点

**主要功能**

- 收录按键

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702150139_qweLfX_Jietu20180702-150130.jpeg)

## 8.7. 条件类型节点

**主要功能**

- 根据不同条件，决定下一个处理节点

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702145940_KtPMMv_Jietu20180702-145923.jpeg)

## 8.8. 接口调用类型节点

**主要功能**

- 调用REST接口，根据返回结果决定下一个处理节点

**节点截图**

![](http://p3alsaatj.bkt.clouddn.com/20180702145601_lGXXgH_Jietu20180702-145552.jpeg)